# Описание проекта

## Задание
Разработать инструмент командной строки для визуализации графа
зависимостей, включая транзитивные зависимости. Сторонние средства для
получения зависимостей использовать нельзя.
Зависимости определяются по имени пакета ОС Alpine Linux (apk). Для
описания графа зависимостей используется представление Mermaid.
Визуализатор должен выводить результат на экран в виде графического
изображения графа. Ключами командной строки задаются путь к программе для визуализации графов и имя анализируемого пакета.

## Описание функций и настроек

### Класс: `DependencyVisualizer`

- **Атрибуты:**
  - `packsByProvided`: Словарь, сопоставляющий предоставляемые функции с именами пакетов.
  - `packsAndDeps`: Словарь, сопоставляющий имена пакетов с их зависимостями.
  - `result`: Строка, в которой хранится построенный граф в текстовом формате.
  - `setOfPacks`: Множество для отслеживания обработанных пакетов.

- **Методы:**

  - `__init__(self)`: Инициализирует атрибуты класса.
  
  - `start(self)`: Загружает и обрабатывает файл `APKINDEX`. Читает данные о пакетах, анализирует их и заполняет словари `packsByProvided` и `packsAndDeps`. Если файл `APKINDEX` отсутствует или поврежден, обрабатывает исключения и завершает программу.
  
  - `addDepends(self, name)`: Рекурсивно добавляет зависимости для заданного пакета в граф. Использует словари `packsAndDeps` и `packsByProvided` для разрешения зависимостей и избегает дублирования с помощью `setOfPacks`.
  
  - `get_graph(self, name)`: Генерирует текстовое представление графа зависимостей для указанного пакета. Кодирует граф в строку Base64 для дальнейшей обработки.
  
  - `display_graph(self, name, script_path)`: Загружает изображение графа по URL и выполняет Bash-скрипт для отображения изображения с помощью `fim` (просмотрщик изображений для фреймбуфера). Обрабатывает исключения, связанные с сетевыми запросами и выполнением скрипта.

### Bash-скрипт: `start_script.sh`

- **Назначение:** Использует `fim` для отображения загруженного изображения графа, а затем удаляет временный файл изображения.
  
- **Использование:** Выполните скрипт с путем к файлу изображения в качестве аргумента.

## Команды для сборки

Чтобы настроить и запустить проект, выполните следующие шаги:

1. Клонируйте репозиторий:
   ```bash
   git clone <repository_url>
   cd <repository_directory>
1. Убедитесь, что установлены зависимости (для Python и Bash):
   ```bash
   pip install requests
   sudo apt-get install fim
1. Запустите скрипт с именем пакета и путем к Bash-скрипту:
   ```bash
   python3 script.py <package_name> start_script.sh
## 4. Примеры использования
![Пример 1](/images/Пример_использования.png)
## 5. Результаты прогона тестов
![Результаты тестов](/images/Результаты_тестов.png)# DependencyVisualizer
